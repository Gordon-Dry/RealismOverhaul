// values by Gordon Dry
// tinker with it if you know better values and then commit it
//

// Stock and RO, unmanned  probes
@PART[probeStackSmall|probeStackLarge|probeCoreSphere_v2|probeCoreHex|probeCoreHex_v2|RO_earlyControllableCore|RO_probeCoreCubeEarly|RO_probeCoreCubeMedium|RO_boeing702|probeCoreCube|RO_surveyorCore|HECS2_ProbeCore|GuidanceStart1m|GuidanceStart4m|GuidanceEarly1m|GuidanceEarly2m|GuidanceEarly3m|GuidanceLate1m|mk2DroneCore|roverBody_v2]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// Stock and RO, manned  pods
@PART[landerCabinSmall|landerCabinMedium|MK1CrewCabin|mk1pod|Mark1-2Pod|mk1pod_v2|mk1-3pod|RO-Mk1Cockpit|RO-Mk1CockpitInline|ROAdvCapsule|Mark2Cockpit|mk2LanderCabin|mk2LanderCabin_v2|mk2Cockpit_Standard|mk2CockpitInline|mk3Cockpit_Shuttle|cupola]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RP-1, unmanned  probes
@PART[proceduralAvionics|RP0probeSounding0-3m|RP0aerobeeSounding|RP0-SampleReturnCommand|RP0probeVanguardXray|RP0probeAvionics0-81m|RP0probeAvionics1-5m|RP0probeAvionics3-05m|RP0probeAvionics1-4m|RP0probeAvionics66m]:HAS[!MODULE[ModuleRealAntenna]]:NEEDS[RP-0]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RP-1, manned pods
@PART[RP0Nose-Cockpit]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}


// Coatl Aerospace, integrated omni
@PART[ca_landv_core|ca_landv_orbiter_core]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}


// Coatl Aerospace, dedicated omni
// ca_landv_hga|ca_landv_orbiter_HGA need conversion to diameter
@PART[ca_vor_comm|antenna_cone_toggle|antenna_quetzal|ca_ant_gps|ca_argo-mk2-mast|ca_landv_omni|ca_landv_hga|ca_landv_orbiter_HGA]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
    }
}

// Coatl Aerospace, dishes
@PART[ca_vor_dish|]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.6
        antennaDiameter:NEEDS[RealAntennas] = 1.6
    }
}

@PART[mer_dish]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3.9624
        antennaDiameter:NEEDS[RealAntennas] = 3.9624
    }
}

@PART[dish_hera]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.25
        antennaDiameter:NEEDS[RealAntennas] = 2.25
    }
}

@PART[ca_argo-mk2-hga]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 0.58
        antennaDiameter:NEEDS[RealAntennas] = 0.58
    }
}

@PART[dish_deploy_S2]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 0.56
        antennaDiameter:NEEDS[RealAntennas] = 0.56
    }
}

@PART[dish_tatsujin]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.9812
        antennaDiameter:NEEDS[RealAntennas] = 1.9812
    }
}

@PART[dish_quetzal]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.74
        antennaDiameter:NEEDS[RealAntennas] = 2.74
    }
}

@PART[dish_xihe]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.2
        antennaDiameter:NEEDS[RealAntennas] = 1.2
    }
}

@PART[dish_S]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.65
        antennaDiameter:NEEDS[RealAntennas] = 1.65
    }
}

@PART[dish_L]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3.6576
        antennaDiameter:NEEDS[RealAntennas] = 3.6576
    }
}

// CommNetAntennasExtension, dish
@PART[caeDeployableAntenna]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 0.8
        antennaDiameter:NEEDS[RealAntennas] = 0.8
    }
}

//CxAerospace dedicated omni
@PART[CXA_Z1]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

//CxAerospace, dish
@PART[CXA_KU_ANTENNA]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.7
        antennaDiameter:NEEDS[RealAntennas] = 1.7
    }
}

// FASA, integrated omni
@PART[FASAApolloIU|FASAApalloLFTJ2Plate|FASAApollo_CM|FASALM_AscentStage|FASAAgenaProbe|FASA_Gemini_Lander_Pod|FASAGeminiPod2|FASAGeminiPod2White|FASAICBMProbe|FASAMercuryPod|FASAExplorerProbe|FASAApolloSubSat|FASAPioneerProbe]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// FASA, dedicated omni
@PART[FASALM_Antenna|FASAALSEP_Device|FASAALSEP_Reflector|FASAALSEP_Scanner|FASAAgenaAnt|FASA_Gemini_ASAS_Comp|FASAGeminiAntenna|FASAMercruyCap2|FASAExplorerNosecone|FASAApollo_SubSatAnt|FASAPioneerAnt]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}


// FASA, dish
@PART[FASAApollo_SM_Dish]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3
        antennaDiameter:NEEDS[RealAntennas] = 3
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// JX2Antenna, dishes
@PART[ju1MDA]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 6.2
        antennaDiameter:NEEDS[RealAntennas] = 6.2
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[jw1MDA]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 5
        antennaDiameter:NEEDS[RealAntennas] = 5
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[jx2LDA]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 21
        antennaDiameter:NEEDS[RealAntennas] = 21
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// KerbalGPS, dedicated omni
@PART[FigaroTransmitter|FigaroReceiver]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// MechJeb2
@PART[mumech_MJ2_AR202]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// NAU/ORIGAMI, dishes
@PART[NAU_ORI350Gm]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 4.2
        antennaDiameter:NEEDS[RealAntennas] = 4.2
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[NAU_ORI69Gm]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.8
        antennaDiameter:NEEDS[RealAntennas] = 2.8
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// NearFutureConstruction, integrated omni
@PART[truss-octo-drone-01]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// ReStockPlus, integrated omni
@PART[RO-SaturnI-IU|restock-drone-core-375-1]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// ReStockPlus, dishes
@PART[restock-antenna-stack-3]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.3
        antennaDiameter:NEEDS[RealAntennas] = 1.3
    }
}

@PART[restock-relay-radial-2]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.08
        antennaDiameter:NEEDS[RealAntennas] = 2.08
    }
}

// RN_Cygnus, integrated omni
@PART[rn_cygnus|rn_cygnus_e]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Salyut, integrated omni
@PART[almaz3-5|almaz_sample_return|salyut1-4|salyut6|salyut7]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Salyut, dedicated omni
@PART[salyut_asas]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Skylab, integrated omni
@PART[skylab]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1
        antennaDiameter:NEEDS[RealAntennas] = 1
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Skylab, dedicated omni
@PART[skylab-trs|skylab_asas]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Soyuz, integrated omni, unmanned probes
@PART[rn_lok_tdu|ok_sa|ok_tft|tg_sa|rn_tks|rn_vostok_tdu|rn_zond_top]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Soyuz, integrated omni, manned pods
@PART[rn_astp_bo|rn_lk_lander|rn_lok_bo|rn_lok_sa|ok_bo_fem|ok_bo_male|t_af_bo|t_pao|t_pao2|tg_bo|rn_va_capsule|rn_voskhod_sc|rn_vostok_sc|rn_zond_sa]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Soyuz, dedicated omni
@PART[rn_lk_lander_legs|rn_zond_asas]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Soviet_Probes, integrated omni with low gain
@PART[sputnik1|sputnik2|sputnik3]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Soviet_Probes, integrated omni with high gain
@PART[luna2|luna3|molniya1|polyot]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_Soviet_Probes, dedicated omni
@PART[luna_radio|l11_radio|luna9_als|luna_als|luna11_als|luna13_als|molniya_asas]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_US_Probes, integrated omni (they all get high gain for now because there are interplanetary probes damnit)
@PART[rn_huygens|eos_aqua|eos_aura|eos_terra|eos_tdrs|explorer_6|tiros-1|transit2a|galileo_mb|galileo_aprobe|grab-1|ius_top|rn_juno_spacecraft|rn_ladee|rn_lro|rn_mariner1_2|rn_messenger|neo_deepimpact_impactor|neo_ds1|neo_stardust_collector|pioneer_0_1_2|pioneer_3_4|pioneer_5|pioneer_6_7_8_9|rn_surveyor3|vanguard-1|vanguard-2|vanguard-3]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_US_Probes, dedicated omni
// rn_surveyor_solar needs conversion to diameter
@PART[rn_surveyor_solar]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// RN_US_Probes, dishes
@PART[rn_cassini]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3.9624
        antennaDiameter:NEEDS[RealAntennas] = 3.9624
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[rn_tdrs_ag]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 9.93648
        antennaDiameter:NEEDS[RealAntennas] = 9.93648
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[gdish_intended]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 4.8768
        antennaDiameter:NEEDS[RealAntennas] = 4.8768
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[magellan]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3.6576
        antennaDiameter:NEEDS[RealAntennas] = 3.6576
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[neo_deepimpact]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1
        antennaDiameter:NEEDS[RealAntennas] = 1
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[neo_dawn]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.524
        antennaDiameter:NEEDS[RealAntennas] = 1.524
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[neo_near]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.5
        antennaDiameter:NEEDS[RealAntennas] = 1.5
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[neo_stardust]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 0.6096
        antennaDiameter:NEEDS[RealAntennas] = 0.6096
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[neo_ulysses]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.65
        antennaDiameter:NEEDS[RealAntennas] = 1.65
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[rn_new_horizons]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.1
        antennaDiameter:NEEDS[RealAntennas] = 2.1
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[pioneer_10_11]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.74
        antennaDiameter:NEEDS[RealAntennas] = 2.74
        isScalable:NEEDS[!RealAntennas] = false
    }
}

@PART[rn_voyager]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3.6576
        antennaDiameter:NEEDS[RealAntennas] = 3.6576
        isScalable:NEEDS[!RealAntennas] = false
    }
}

//RemoteTechRedev/RemoteTech-Antennas, sanity
-PART[RTLongAntenna2]:NEEDS[RemoteTech-Antennas]:BEFORE[zzzRealismOverhaul] {}

//RemoteTechRedev/RemoteTech-Antennas, dedicated omni
@PART[RTLongAntenna3]:HAS[!MODULE[ModuleRealAntenna]]:NEEDS[RemoteTech-Antennas]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
    }
}

//RemoteTechRedev/RemoteTech-Antennas, dishes
@PART[RTGigaDish1]:HAS[!MODULE[ModuleRealAntenna]]:NEEDS[RemoteTech-Antennas]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 6
        antennaDiameter:NEEDS[RealAntennas] = 6
    }
}

@PART[RTGigaDish2]:HAS[!MODULE[ModuleRealAntenna]]:NEEDS[RemoteTech-Antennas]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 5
        antennaDiameter:NEEDS[RealAntennas] = 5
    }
}

@PART[RTLongDish2]:HAS[!MODULE[ModuleRealAntenna]]:NEEDS[RemoteTech-Antennas]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 2.5
        antennaDiameter:NEEDS[RealAntennas] = 2.5
    }
}

@PART[RTShortDish2]:HAS[!MODULE[ModuleRealAntenna]]:NEEDS[RemoteTech-Antennas]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.3
        antennaDiameter:NEEDS[RealAntennas] = 1.3
    }
}

// ROCapsules, integrated omni
@PART[ROC-MercuryCM|ROC-ApolloCM|ROC-LEMAscent|ROC-LEMRover|ROC-VoskhodCapsule|ROC-VostokCapsule|ROC-VostokService]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// ROCapsules, dedicated omni
@PART[ROC-MercuryNose|ROC-VostokAntenna]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// ROCapsules, dishes
@PART[ROC-ApolloHGA]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 3
        antennaDiameter:NEEDS[RealAntennas] = 3
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// SXT, integrated omni, unmanned probes, the low gain ones
@PART[SXT375mProbe|SXTSputnik]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// SXT, integrated omni, unmanned probes, the high gain ones
@PART[SXTHECSRanger|SXTAlouetteI|MEMLanderSXT]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// SXT, integrated omni, manned pods
@PART[SXTClyde|SXTBuzzard|SXTke111|25mKossak|SXTmeadowlark|SXTEntenteCordiale|SXTGoose|SXTmk3Cockpit52|SXTOsaulNoseCockpitAn225|SXTOsualRadCockpit]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// SXT, dedicated omni

// Attention
// Failsafe fix patch for https://github.com/KSP-RO/RealismOverhaul/issues/2105
// as long as not merged

@PART[SXTsciencenosecone]:AFTER[RealismOverhaul]
{
    @mass = 0.04
}

@PART[SXTsciencenosecone|SXTAntenna]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// Taerobee, integrated omni, unmanned probes
@PART[taerobee_control|Bumper_Control]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// Taerobee, integrated omni, manned pods
@PART[X1_Crew]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// TokamakIndustries, integrated omni
@PART[TIinflatoFlat|TIorbitalorb]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// UniversalStorage2, integrated omni
@PART[USGuidanceComputer|USGuidanceComputer2|USGuidanceComputer3|USDoubleProbeCore]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// VenStockRevamp, integrated omni
@PART[MK2VApod]:HAS[!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

//
// now to the generic patches
//
// these patches apply after the dedicated patches, which are BEFORE[zzzRealismOverhaul]

@PART[*]:HAS[@MODULE[ModuleDataTransmitter]:HAS[~antennaType[]],!MODULE[ModuleConfigurableAntenna],!MODULE[ModuleRealAntenna]]:BEFORE[zzzRealismOverhaul]
{
    @MODULE[ModuleDataTransmitter]
    {
        antennaType = INTERNAL
    }
}

// when it was a RELAY we assume it's a dish for now
@PART[*]:HAS[@MODULE[ModuleDataTransmitter]:HAS[#antennaType[RELAY]],!MODULE[ModuleConfigurableAntenna],!MODULE[ModuleRealAntenna]]:FOR[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        diameter:NEEDS[!RealAntennas] = 1.0
        antennaDiameter:NEEDS[RealAntennas] = 1.0
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// when it was a DIRECT without ModuleCommand and without ModuleAvionics we assume it's a dedicated omni antenna with higher gain than built-in omni antennas
@PART[*]:HAS[@MODULE[ModuleDataTransmitter]:HAS[#antennaType[DIRECT]],!MODULE[ModuleCommand],!MODULE[ModuleAvionics],!MODULE[ModuleConfigurableAntenna],!MODULE[ModuleRealAntenna]]:FOR[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 2.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// when it was a DIRECT with ModuleCommand we assume it's a built-in omni antenna with lower gain than dedicated omni antennas
@PART[*]:HAS[@MODULE[ModuleDataTransmitter]:HAS[#antennaType[DIRECT]],@MODULE[ModuleCommand],!MODULE[ModuleConfigurableAntenna],!MODULE[ModuleRealAntenna]]:FOR[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// when it was an INTERNAL we assume it's a (built-in) low gain telemetry antenna
@PART[*]:HAS[@MODULE[ModuleDataTransmitter]:HAS[#antennaType[INTERNAL]],!MODULE[ModuleConfigurableAntenna],!MODULE[ModuleRealAntenna]]:FOR[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// when it's a ModuleAvionics/ModuleCommand without an antenna right now we give it a (built-in) low gain telemetry antenna
@PART[*]:HAS[!MODULE[ModuleDataTransmitter],!MODULE[ModuleConfigurableAntenna],!MODULE[ModuleRealAntenna],@MODULE[ModuleAvionics],@MODULE[ModuleCommand]]:FOR[zzzRealismOverhaul]
{
    MODULE
    {
        name:NEEDS[!RealAntennas] = ModuleConfigurableAntenna
        name:NEEDS[RealAntennas] = ModuleRealAntenna
        referenceGain = 1.0
        RFBand:NEEDS[RealAntennas] = UHF
        isScalable:NEEDS[!RealAntennas] = false
    }
}

// for any part that got ModuleConfigurableAntenna now and still got ModuleDataTransmitter we remove ModuleDataTransmitter
@PART[*]:HAS[@MODULE[ModuleConfigurableAntenna],@MODULE[ModuleDataTransmitter]]:NEEDS[!RealAntennas]:AFTER[zzzRealismOverhaul]
{
    !MODULE[ModuleDataTransmitter],* { }
}

// for any part that got ModuleRealAntenna now and still got ModuleDataTransmitter we remove ModuleDataTransmitter
@PART[*]:HAS[@MODULE[ModuleRealAntenna],@MODULE[ModuleDataTransmitter]]:NEEDS[RealAntennas]:AFTER[zzzRealismOverhaul]
{
    !MODULE[ModuleDataTransmitter],* { }
}
